<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Feliz Cumpleaños, Amor 💖</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Open+Sans&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>

<div id="splash" class="splash-screen">
  <div class="gift" onclick="openGift()">
    🎁<br><small>¡Haz clic para abrir tu regalo!</small>
  </div>
</div>


  <header>
    <h1>🎂 ¡Feliz Cumpleaños, Mi Amor! 🎂</h1>
    <p>Este pequeño sitio es solo para ti 💝</p>
  </header>

 <section class="counter">
  <h2>🕰️ Tiempo juntas</h2>
  <button onclick="revealDays()" class="reveal-button">Descúbrelo 💌</button>
  <p id="daysCounter" style="display: none;"></p>
</section>

  <section class="gallery">
    <h2>📸 Nuestra galería</h2>
    <div class="grid">
      <img src="img/foto1.jpg" alt="foto" />
      <img src="img/foto3.jpg" alt="foto" />
      <img src="img/foto4.jpg" alt="foto" />
      <img src="img/foto5.jpg" alt="foto" />
      <img src="img/foto6.jpg" alt="foto" />
      <img src="img/foto7.jpg" alt="foto" />
      <img src="img/foto8.jpg" alt="foto" />
      <img src="img/foto9.jpg" alt="foto" />
      <img src="img/foto10.jpg" alt="foto" />
      <img src="img/foto13.jpg" alt="foto" />
      <img src="img/foto11.jpg" alt="foto" />
      <img src="img/foto12.jpg" alt="foto" />
    
    </div>
  </section>

  <section class="playlist">
    <h2>🎵 Nuestra playlist</h2>
   <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/1BPX1FhSm4EUF8APGKQS65?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
  </section>

  <section class="form-love">
    <h2>¿Me amas sí o sí? ❤️</h2>
    <button onclick="alert('¡Yo más! 🥰')">Sí</button>
    <button onclick="alert('¡Esa no era una opción! 😘')">Obvio</button>
  </section>


  <section class="simpson-audio">
  <h2>🎙️ Mensaje especial</h2>
  <button onclick="playLisaAudio()">Escucha esto!!!! 🎧</button>
</section>


<section class="memory">
  <h2>🧠 Juego de memoria del amor</h2>
  <div class="memory-game" id="gameBoard"></div>
</section>

<section class="reasons-love">
  <h2>🌹 10 razones por las que te amo</h2>
  <div class="card-grid">
    <div class="love-card" data-index="0">Tu sonrisa es mi lugar feliz, siempre me calma y me alegra.</div>
    <div class="love-card" data-index="1">Porque contigo todo es más bonito, hasta los días grises.</div>
    <div class="love-card" data-index="2">Me haces sentir amada, valorada y escuchada.</div>
    <div class="love-card" data-index="3">Tienes un corazón tan noble que me inspira a ser mejor persona.</div>
    <div class="love-card" data-index="4">Te amo por cómo miras el mundo y cómo lo haces más suave.</div>
    <div class="love-card" data-index="5">Por los abrazos que lo curan todo sin decir una palabra.</div>
    <div class="love-card" data-index="6">Por reírnos hasta llorar, incluso de tonterías.</div>
    <div class="love-card" data-index="7">Porque contigo me siento en casa, donde sea que estemos.</div>
    <div class="love-card" data-index="8">Eres mi mejor amiga, mi confidente, mi todo.</div>
    <div class="love-card" data-index="9">Porque simplemente... eres tú. Y eso ya lo es todo. 💖</div>
  </div>
</section>

<div class="drawing-board">
  <h2>💗Dibuja algo </h2>
  <canvas id="drawingCanvas" width="400" height="300"></canvas>

  <!-- Contenedor de los botones -->
  <div class="button-container">
    <button id="clearButton">Borrar</button>
    <button id="downloadButton">Descargar dibujo</button>
  </div>
</div> 

<section class="love-challenge-section">
  <h2>💘 El test definitivo 💘</h2>
  <p id="loveQuestion"></p>

  <div id="loveAnswers" class="answers-container"></div>

  <p id="loveFeedback"></p>
  <button id="nextLoveBtn" style="display: none;">Siguiente</button>
  <button id="restartLoveBtn" style="display: none;">🔁 Repetir test</button>
</section>




<section class="final-explosion">
  <h2>💥 ¡Boom! Fin del recorrido 💥</h2>
  <p>
    Si has llegado hasta aquí... <strong>¡te mereces un premio!</strong><br>
    Pero como el premio soy yo, ya lo tienes asegurado 😘
    Espero que te haya gustado, aunque no tenga un duro para regalarte algo mejor.
  </p>
  <p class="crazy-love">¿Te casas conmigo?... Es broma. (¿O no? 👀)</p>
  <button onclick="launchConfetti()">¡Celebrar esto! 🎉</button>
</section>

  <footer>
    <p>Hecho con amor por Lidia 🧁</p>
  </footer>

  <script>
 function revealDays() {
  const startDate = new Date("2018-08-17");
  const today = new Date();
  const diff = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
  const counter = document.getElementById("daysCounter");
  counter.textContent = `Llevamos ${diff} días juntas 💞`;
  counter.style.display = "block";
}

  // Juego de memoria
    const matchSound = new Audio("img/sonido2.mp3");
  const winSound = new Audio("sonido3/win.mp3");

  const symbols = ['💖','💖','💋','💋','🌹','🌹','😘','😘'];
  let cards = [...symbols].sort(() => 0.5 - Math.random());
  let firstCard = null;
  let matchedPairs = 0;

  const board = document.getElementById("gameBoard");

  cards.forEach(symbol => {
    const card = document.createElement("div");
    card.className = "card";
    card.textContent = "❓";
    card.dataset.symbol = symbol;

    card.onclick = () => {
      if (card.classList.contains("flipped") || firstCard === card) return;

      card.classList.add("flipped");
      card.textContent = symbol;

      if (!firstCard) {
        firstCard = card;
      } else {
        if (firstCard.dataset.symbol === card.dataset.symbol) {
          matchSound.play();
          matchedPairs++;
          firstCard = null;

          // Cuando gana
          if (matchedPairs === symbols.length / 2) {
            setTimeout(() => {
              winSound.play();
              alert("🥳 ¡Eres una máquina! ¡Te amo! 💘");
            }, 500);
          }

        } else {
          setTimeout(() => {
            card.classList.remove("flipped");
            firstCard.classList.remove("flipped");
            card.textContent = "❓";
            firstCard.textContent = "❓";
            firstCard = null;
          }, 900);
        }
      }
    };

    board.appendChild(card);
  });
</script>

<script>
  // Corazones flotantes
  setInterval(() => {
    const heart = document.createElement("div");
    heart.textContent = "💗";
    heart.className = "floating-heart";
    heart.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(heart);

    setTimeout(() => {
      heart.remove();
    }, 6000);
  }, 600);
</script>

<script>
function openGift() {
  const audio = new Audio('img/sonido1.mp3');
  audio.play();
  const splash = document.getElementById('splash');
  splash.classList.add('splash-hidden');
}
</script>

<script>
function launchConfetti() {
  const audio = new Audio('img/sonido4.mp3');
  audio.play();

  for (let i = 0; i < 100; i++) {
    const confetti = document.createElement("div");
    confetti.className = "confetti";
    confetti.style.left = Math.random() * 100 + "vw";
    confetti.style.animationDuration = (Math.random() * 3 + 2) + "s";
    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 5000);
  }
}
</script>


<script>
function playLisaAudio() {
  const audio = new Audio("img/lisa-cumple.mp3");
  audio.play();
}
</script>

<script>
  // Obtener el lienzo y el contexto para dibujar
  const canvas = document.getElementById('drawingCanvas');
  const ctx = canvas.getContext('2d');

  let painting = false;

  // Funciones para comenzar y terminar el dibujo
  function startPosition(e) {
    painting = true;
    draw(e);
  }

  function endPosition() {
    painting = false;
    ctx.beginPath();
  }

  function draw(e) {
    if (!painting) return;

    // Establecer el color y grosor del trazo
    ctx.lineWidth = 5;
    ctx.lineCap = 'round';
    ctx.strokeStyle = '#ff66a3'; // Color del trazo (puedes cambiarlo si lo deseas)

    // Asegurarnos de obtener las coordenadas correctas para mouse o toque
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    // Dibujar la línea
    ctx.lineTo(x, y);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(x, y);
  }

  // Limpiar el lienzo
  function clearCanvas() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }

  // Descargar el dibujo como imagen PNG (con solución para iOS)
  function downloadCanvas() {
    const dataURL = canvas.toDataURL("image/png");
    const img = new Image();
    img.src = dataURL;

    // Crear una imagen en un nuevo documento para que el usuario la pueda guardar
    img.onload = function () {
      const link = document.createElement('a');
      link.href = img.src;
      link.target = '_blank'; // Esto abre la imagen en una nueva pestaña
      link.download = 'dibujo.png'; // Nombre del archivo de la imagen descargada
      link.click();
    };
  }

  // Añadir eventos de mouse para el dibujo
  canvas.addEventListener('mousedown', startPosition);
  canvas.addEventListener('mouseup', endPosition);
  canvas.addEventListener('mousemove', draw);

  // Añadir eventos para dispositivos táctiles (móviles y tablets)
  canvas.addEventListener('touchstart', (e) => {
    e.preventDefault(); // Evitar el comportamiento por defecto del navegador
    startPosition(e.touches[0]); // Comienza el dibujo al tocar
  });
  canvas.addEventListener('touchend', endPosition); // Termina el dibujo al soltar el dedo
  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault(); // Evitar el comportamiento por defecto del navegador
    draw(e.touches[0]); // Dibuja con el dedo mientras se mueve
  });

  // Vincular los botones con las funciones correspondientes
  document.getElementById('clearButton').addEventListener('click', clearCanvas); // Botón para limpiar el lienzo
  document.getElementById('downloadButton').addEventListener('click', downloadCanvas); // Botón para descargar la imagen
</script>


<script>
  const loveQuestions = [
    {
      question: "¿Cuál fue nuestra primera cita?",
      answers: ["Tu casa", "Parque", "Café", "Mi casa de la playa"],
      correct: 0,
    },
    {
      question: "¿Qué comida te cociné primero?",
      answers: ["Pasta", "Hamburguesa", "Pollo", "Pizza"],
      correct: 1,
    },
    {
      question: "¿Cuál una de nuestras canciones?",
      answers: ["La macarena", "La lista de la compra", "Me porto bonito", "Lo que en silencio guardo"],
      correct: 1,
    },
   {
      question: "¿Cuánto te quiero?",
      answers: ["Mucho", "Muchísimo", "Como la trucha al trucho", "Incalculable"],
      correct: 3,
    },

  ];

  let loveCurrent = 0;
  let directHits = 0;
  let answeredCorrectly = false;

  function showLoveQuestion() {
    const current = loveQuestions[loveCurrent];
    answeredCorrectly = false;
    document.getElementById("loveQuestion").textContent = current.question;
    document.getElementById("loveAnswers").innerHTML = "";
    document.getElementById("loveFeedback").textContent = "";
    document.getElementById("nextLoveBtn").style.display = "none";

    current.answers.forEach((ans, index) => {
      const btn = document.createElement("button");
      btn.textContent = ans;
      btn.onclick = () => {
        if (answeredCorrectly) return;

        if (index === current.correct) {
          btn.classList.add("correct");
          document.getElementById("loveFeedback").textContent = "✅ ¡Acertaste!";
          document.getElementById("nextLoveBtn").style.display = "inline-block";
          answeredCorrectly = true;
          directHits++;
        } else {
          btn.classList.add("wrong");
          document.getElementById("loveFeedback").textContent = "❌ Prueba otra vez.";
        }
      };
      document.getElementById("loveAnswers").appendChild(btn);
    });
  }

document.getElementById("nextLoveBtn").onclick = () => {
  loveCurrent++;
  if (loveCurrent < loveQuestions.length) {
    showLoveQuestion();
  } else {
    const total = loveQuestions.length;
    document.getElementById("loveQuestion").textContent = "¡Completaste el desafío! ❤️";
    document.getElementById("loveAnswers").innerHTML = "";

    let finalMessage = "";
    const correctPercentage = (directHits / total) * 100; // Cálculo del porcentaje de respuestas correctas

    // Mostramos la cantidad de respuestas correctas
    let resultMessage = `${directHits} de ${total} respuestas correctas`;

    if (directHits === total) {
      finalMessage = `🏆 ¡Perfecto! Eres un amor que todo lo recuerda 💘`;
    } else if (directHits === total - 1) {
      finalMessage = `💖 ¡Casi perfecto! Sabes mucho de nosotras 😍`;
    } else if (directHits >= total / 2) {
      finalMessage = `💌 Lo importante es que lo intentas, mi amor 😚`;
    } else {
      finalMessage = `😂 Bueno... al menos eres guapa 😅 ¡Intenta otra vez!`;
    }

    // Combina el mensaje final con el resultado
    document.getElementById("loveFeedback").textContent = `${finalMessage} (${resultMessage})`;
    document.getElementById("nextLoveBtn").style.display = "none";
    document.getElementById("restartLoveBtn").style.display = "inline-block";
  }
};


  document.getElementById("restartLoveBtn").onclick = () => {
    loveCurrent = 0;
    directHits = 0;
    document.getElementById("restartLoveBtn").style.display = "none";
    showLoveQuestion();
  };

  // Iniciar al cargar
  showLoveQuestion();
</script>




</body>
</html>